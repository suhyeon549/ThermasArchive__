<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
     <meta name="viewport" content="width=1920, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>THERMA's ARCHIVE</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Trispace:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Asta+Sans:wght@300..800&family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    
</head>
<div id="wrap"> 
    
<header>
         <div class="logo">
   <a href="#main" class="logo">
  <span class="logo-main">THERMA's</span><br>
  <span class="logo-sub">ARCHIVE</span>
</a>

  </div>
        <ul>
<li><a href="#" data-target="overview">OVERVIEW</a></li>
<li><a href="#" data-target="story">STORY</a></li>
<li><a href="#" data-target="visual">VISUAL</a></li>
<li><a href="#" data-target="technology">TECHNOLOGY</a></li>
<li><a href="#" data-target="video">VIDEO</a></li>

        </ul>
    </header>
<body>


   <div class="mainIMG_container" id="main">


  <video autoplay muted loop playsinline class="bg-video">
    <source src="VIDEO/Main_LLAASSTT.mp4" type="video/mp4" />
    브라우저가 비디오 태그를 지원하지 않습니다.
  </video>

   <div class="video-overlay"></div>


  
  <p>녹아내리는 얼음, 깨어나는 의식</p>

  <h1>영구동토층 : 깨어나는 땅의 기억</h1>

  <div class="gradient_box_before"></div>
</div>

    
    <div class="explanation_box" id="overview">
        <div class="gradient_box_after"></div>
        <h2>OVERVIEW</h2>
        <h1>영구동토층 해빙으로 펼쳐진 디스토피아, <br>그 속의 희망</h1>
        <p><영구동토층, 깨어나는 땅의 기억>은 녹아내리고 있는 영구동토층을 중심으로,<br>
            지금 우리 곁에서 벌어지는 기후 위기를 이야기합니다.<br><br>
            미래에서 도착한 AI 드론의 기록을 따라가며, 관람자는 그 위기를 직접 마주하게 됩니다.<br><br>
            관람자는 몰입형 인터랙션을 통해 보이지 않던 위협을 몸으로 느끼고, 자신의 움직임을 통해 위협 요소를 인식하고 반응하면서<br><br>
            기후 위기가 먼 나라 이야기가 아닌 ‘지금 여기’의 현실임을 자연스럽게 체감하게 됩니다.<br><br><br><br><br><br><br><br><br><br><br></p>
    </div>
    <div class="section_start" id="story">
        <br><br><br><br><br><br><br><br><h1>STORY</h1> <br><br><br>
        <h2>영구동토층, 들어보신 적 있나요?</h2>
        <div class="circle_blur_sec"></div>
        <div class="circle_blur_sec2"></div>
        
        <h3>영구동토층은 2년 이상 지속적으로 얼어 있는 토양이나 암석층을 의미하며,<br>
            전 세계 육지 표면의 약 14%를 차지합니다.<br>
            이 지역에는 막대한 양의 탄소가 저장되어 있어, 해빙 시 메탄과 이산화탄소가 방출되어<br>
            지구온난화를 가속시킬 수 있는 잠재적 위협 요소로 작용합니다.<br><br>
            <국립기상과학원></h3>
          

    </div>
    
    <div class="explanation_box_2_right">
      <div class="circle"></div>
      <div class="circle_blur"></div>
        <h2>보이지 않는 지구의 시간은 지금 어디로 흐르고 있을까요?<br>영구동토층은 조용히, 하지만 점점 더 빠르게 변하고 있어요.</h2>

         <div class="news_cards">
    <div class="news_card">
      <div class="news_badge">1</div>
      <p class="news_quote">“북극 지역의 영구 동토층의 융해 및 그린란드 빙상이 전례 없는 속도로 녹고 있어…”</p>
      <p class="news_source">홍콩 비영리 환경단체 Earth.Org<br>〈2022년의 가장 큰 환경문제 12가지〉보고서 中</p>

    <div class="news_line"></div>

      <p class="news_body">
        과학자들은 북극 지역의 영구 동토층의 융해 및 그린란드 빙상이 전례 없는 속도로 녹고 있으며,
        6차 대멸종의 가속화, 아마존 열대우림의 삼림파괴 증가 등의 심각한 결과를 가져올 수 있는 임계점을 넘었다고 경고한다.
      </p>

       <!-- <p class="news_link">https://www.waterjournal.co.kr/news/articleView.html?idxno=62399</p> -->
    </div>


    <div class="news_card">
      <div class="news_badge">2</div>
      <p class="news_quote">“영토 약 65%가 영구동토층인 러시아, 이대로면 전력 기반시설 중 5분의 1 이상 영향 예상”</p>
      <p class="news_source">[서울경제]<br>〈러시아 영구동토층 해빙에 석유 생산 위기 온다〉中</p>

    <div class="news_line"></div>

      <p class="news_body">
        영구동토층은 여름에도 녹지 않고 2년 이상 토양 온도가 0도 이하로 유지되는 땅이다.
        러시아 전체 영토의 약 65%가 영구동토층으로 분류된다.
        그런데 지구온난화로 날씨가 따뜻해지자 영구동토층의 망속 얼음이 빠르게 녹고 있다.
      </p>

      <!-- <p class="news_link">https://news.nate.com/view/20211006n35836</p> -->
    </div>

 

    <div class="news_card">
      <div class="news_badge">3</div>
      <p class="news_quote">“영원히 녹지 않는 땅 위에 세워진줄 알았던 건물들, 달라진 현실을 마주하고 있어”</p>
      <p class="news_source">[KBS news]<br>〈녹아드는 ‘동토의 땅’...시베리아에 냉각시설 ‘필수’〉 中</p>

        <div class="news_line"></div>

      <p class="news_body">
        주요 변화는 약 10~15년 전 지구온난화가 시작되면서 생겨났다.
        영구동토층이 녹으면서 지반이 불안정해지고 건물에서 약간의 변화가 나타나기 시작했다.
        수업이 한창인 한 대학교에는 건물을 떠받치고 있는 기둥 곳곳에 균열이 생겼다.
      </p>

      <!-- <p class="news_link">https://www.youtube.com/watch?app=desktop&v=7LiWeD-mntU</p> -->
    </div>
  </div>
  <div class="gradient_box_2_before"></div>
    </div>

    <div class="contents_explanation">
      
        <h4>Interactive Media Art Exhibition</h4>
        <h3>“녹아내리는 얼음, 깨어나는 의식”</h3><br>
        <h1><영구동토층, 깨어나는 땅의 기억></h1><br><br>

        <div class="contents_IMG_box"><video src="VIDEO/kbdown.mp4" autoplay muted loop playsinline></video></div>

        <br><br><p>관람자는 미래에서 전송된 AI 드론의 기록을 수신하고,<br>
           붕괴되는 영구동토층의 현실을 직접 체험하게 됩니다.<br><br>
           차갑게 녹아내리는 지층, 사라진 생명, 침묵 속 경고.<br><br>
           이 전시는 감각과 사유가 만나는 지점에서, 
           <br>기후 위기를 '몸으로 깨닫는' 순간을 제안합니다.</p><br><br>

    <div class="elements">

        <div class="element">
            <p>구성 요소</p>
        </div>

        <div class="element">
            <p>장소</p>
        </div>

        <div class="element">
            <p>러닝 타임</p>
        </div>


    </div>

    <div class="elementPlus">
      <p> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;다큐멘터리 형식의 영상,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;모션 캡처 기반 체험, 사운드,<br>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;시청각 인터랙션으로 구성</p>

        <p>성수동 광장 앞</p>

        <p>   2m50s ~ 3m</p>

    </div>

    </div>

    <div class="main_character_explanation">
      <div class = "main_character_icon">
        MAIN CHARACTER
      </div>

      <h2>“나는 세르마.<br>
           영구동토층이 붕괴되던 그날, 인류는 무너졌습니다.”
            </h2>
      <h3>세르마는 영구동토층 해빙 이후 탄생한 AI 드론으로, 기후 재난 이후의 데이터를 바탕으로<br>
          과거의 인간에게 메시지를 전달합니다.<br>
          이 전시의 전체 흐름을 안내하며, 관객이 위기의 흐름을 따라가도록 시선을 이끕니다.<br>
          과장된 감정 없이 차분한 어조로 사실을 전달하며, 관객 스스로 질문을 던지도록 유도하는<br>
          역할을 합니다.</h3>
      
      <div class="circle_blur_ch"></div>
        <div class="ai_drone_wrapper">
<img src="IMG/AI_front_png.png" 
     alt="기본 드론" 
     class="main_character_image" 
     style="width: 350px; height: 350px;  position: relative;
  top: -80px;" />

 
</div>

    </div>

     <div class = "scene_explanation">     

      <div class = "scene_icon">
        SCENE
      </div>

      <h2>서서히 붕괴되는 세계 속, 관객은 다음과 같은 공간들을 지나게 됩니다.</h2>

      <div class="card-container">

  <div class="card">

    <div class="card_badge">1</div>
    <h5 class="card_quote">호수 위</h5>

 <div class="image-placeholder lake-image">
</div>

    <h6 class="card-text">
      얼어붙은 호수 위,<br>
      AI 드론 세르마는 과거의 기록을 복원하며 이동합니다.<br>
      관객은 풍경 속에서 첫번째 경고를 받게 됩니다.
    </h6>
  </div>

  <div class="card">

    <div class="card_badge">2</div>
    <h5 class="card_quote">디스토피아</h5>

 <div class="image-placeholder dystopia-image">
</div>

    <h6 class="card-text">
      붕괴된 구조물과 죽은 생태계가 펼쳐진 풍경 속에서,<br>
      관객은 기후 위기가 만들어낸 미래의 흔적을 마주하게 됩니다.
    </h6>
  </div>

  <div class="card">

    <div class="card_badge">3</div>
    <h5 class="card_quote">노을진 호수</h5>
<div class="image-placeholder sunset-image">
</div>
    <h6 class="card-text">
      호수 위로 노을이 번지며 희망의 가능성이 암시됩니다.<br>
      세르마는 마지막 메시지를 전하며 관객에게<br>
      질문을 남깁니다.
    </h6>

  </div>
</div>

    </div>

<section id="visual">
  
  
    <div class="visual_box">
       <div class="gradient_box_visual_after"></div>
       <h2>VISUAL</h2>
        <div class="circle_blur_sec3 "></div>
        <p>영구동토층 해빙으로 심화된 기후 위기,
          <br>그로 인해 펼쳐진 어둡고 차가운 디스토피아적 도시 풍경.
          <br>그리고 점차 회복을 암시하는 따뜻한 색과 빛의 변화를 표현했습니다.<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></p>

    </div>

  <div class="visual_explanation">
    <div class = "visual_icon">OBJECT</div>
    <h3>제작  : Blender</h3>
    <h2>AI 드론 - 세르마</h2>
    <h4>매끄럽고 유선형의 AI 탐사 드론. 흰색의 유광 바디와 검은 디스플레이형 얼굴에 파란 눈이 떠오르며, 친근하고 미래적인 인상을 줍니다.</h4>
    <div class="gray-box-container">

  <div class="gray-box img1"></div>
  <div class="gray-box img2"></div>
  <div class="gray-box img3"></div>
  <div class="gray-box img4"></div>


    </div>
    </div>


<div class="visual_explanation_virus">
  <h2>유해 물질</h2>
  <h4>광택과 매끄러운 표면으로 구현한 미지의 고대 바이러스, 탄저균, 메탄가스 등의 비가시적 위협을 시각적 오브젝트로 재구성 했습니다.</h4>

  <div class="slider-wrapper"> 
    <div class="gray-box-container-virus">
      <div class="gray-box-virus virus1"></div>
      <div class="gray-box-virus virus2"></div>
      <div class="gray-box-virus virus3"></div>
      <div class="gray-box-virus virus4"></div>
      <div class="gray-box-virus virus5"></div> 
      <div class="gray-box-virus virus6"></div>
      <div class="gray-box-virus virus7"></div> 
    </div>
  </div>
</div>



    <div class="visual_explanation_river">
    <h2>호수 위 오브젝트</h2>
    <h4>맑고 차가운 수면과 기포, 물결의 질감을 활용한 호수 위 시각화 오브젝트 입니다. 영구동토층 아래 깨어나는 변화와 흐름을 상징합니다.</h4>
    <div class="gray-box-container-river">
      <div class="gray-box-river river1"></div>
      <div class="gray-box-river river2"></div>
      <div class="gray-box-river river3"></div>
      <div class="gray-box-river river4"></div>
    </div>
  </div>

  
<div class="visual_explanation_dystopia">
    <h2>디스토피아 내 오브젝트</h2>
    <h4>비정형적 붕괴와 구조적 왜곡, 거칠고 퇴색된 건물 텍스처로 구성한 디스토피아 도시 오브젝트 입니다. 파괴된 도시 경관을 통해 미래 환경 재난의 여파를 시각화 했습니다.</h4>

    <div class="slider-wrapper-dystopia">
        <div class="gray-box-container-dystopia">
            <div class="gray-box-dystopia dystopia1"></div>
            <div class="gray-box-dystopia dystopia2"></div>
            <div class="gray-box-dystopia dystopia3"></div>
            <div class="gray-box-dystopia dystopia4"></div>
            <div class="gray-box-dystopia dystopia5"></div>
            <div class="gray-box-dystopia dystopia6"></div>
            <div class="gray-box-dystopia dystopia7"></div>
            <div class="gray-box-dystopia dystopia8"></div>
            <div class="gray-box-dystopia dystopia9"></div>
            <div class="gray-box-dystopia dystopia10"></div>
            <div class="gray-box-dystopia dystopia11"></div>
            <div class="gray-box-dystopia dystopia12"></div>
            <div class="gray-box-dystopia dystopia13"></div>
            <div class="gray-box-dystopia dystopia14"></div>
            <div class="gray-box-dystopia dystopia15"></div>
         
        </div>
    </div>
</div>

    </section>


  <div class = "visual_ConceptBoard">
    <div class = "visual_ConceptBoard_icon">DESIGH BOARD</div>
    <h3>영구동토층 해빙에서 도시 붕괴로 이어지는 흐름을 차가운 블루 톤에서 검은 회색 빛으로 전이시키며, 위기의 단계성을 시각화 했습니다. <br>
          따뜻한 붉은 오렌지빛 노을진 호수로의 공간 변화는 희망을 암시하며, 색감 전환과 유기적·기하학적 오브젝트 대비로 긴장감과 가능성을 담았습니다.</h3>
    <div class = "gray-box-ConceptBoard"></div>
    <div class="gradient_box_before"></div>
  </div>

  <div class = "technology_box" id="technology">
    <h2>TECHNOLOGY</h2>
    <p>Unity와 Azure Kinect DK를 활용해
    <br>관람자의 움직임에 반응하는 인터랙티브 체험으로 구현</p>
  <div class = "gray-box-container-technology">
    <div class = "gray-box-technology">
      <img src="IMG/Unity_logo.png" alt="유니티 로고"  />
    </div>
    <div class = "gray-box-technology">
      <img src="IMG/Camera.jpg" alt="감지 카메라 사진"  />
    </div>
  </div>
  </div>

  <div class="interaction_explanation">
  <div class="interaction_explanation_icon">INTERACTION</div>

  <h4>01</h4>
  <h2>“그래픽 가까이에 손을 뻗어 정보를 확인해보세요.
    <br>더 많은 정보가 그 안에 있습니다."</h2>

  
  <div class="interaction-row">
    <div class="gray-box-interaction"></div>

  
    <div class="interaction-text">
      <p>관람자가 손을 뻗으면 
        각 장면마다 영구동토층 해빙으로 등장한 위협(바이러스,<br> 메탄가스 등)에 대한 
        간략한 정보가 제공됩니다.
      </p>
    </div>
  </div>
</div>

<div class="interaction_explanation_2">
  <h4>02</h4>
  <h2>“시각화된 감염 반응이 신체에 나타났습니다. 
  <br>화면 쪽을 향해 양팔을 크게 뻗고 외부로 밀쳐내어 제거해보세요”
  </h2>


  <div class="interaction_2-row">

  <div class="interaction_2-text">
    <p>
      모션캡처된 관람자의 몸 주위에 퍼지는 바이러스 이미지를
      <br>양팔을 뻗어 밀어내는 동작으로 제거하며 위기를 체감하게 됩니다.
    </p>
  </div>


  <div class="gray-box-interaction_2"></div>
</div>

</div>

  <div class="video_box" id="video">
    <h2>VIDEO</h2>

    <div class="youtube-video">
 <iframe width="1200" height="700" src="https://www.youtube.com/embed/8xOPYcr87Bo?si=5JwGwLc9W9RJjgUF" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>


  </div>

<div class="scroll-nav">
  <div class="nav-line"></div> 
  
  <div class="nav-dot" data-target="main"><span>MAIN</span></div>
  <div class="nav-dot" data-target="overview"><span>OVERVIEW</span></div>
  <div class="nav-dot" data-target="story"><span>STORY</span></div>
  <div class="nav-dot" data-target="visual"><span>VISUAL</span></div>
  <div class="nav-dot" data-target="technology"><span>TECHNOLOGY</span></div>
  <div class="nav-dot" data-target="video"><span>VIDEO</span></div>
</div>



  <footer class="custom-footer">
  <div class="footer-left">
    <p>© THERMA's ARCHIVE<br>All rights reserved</p>
  </div>
  <div class="footer-center">
    <p><strong>Digital Contents Production</strong><br>
    created for the 2-1 class at Kaywon University of Art & Design</p>
  </div>
  <div class="footer-right">
    <img src="IMG/Kuad_logo.png" alt="Kaywon Logo" />
    <p>Kaywon University of Art & Design</p>
  </div>
</footer>

    </div> 
    
    
   <script>

  

  document.addEventListener('DOMContentLoaded', () => {
    const header = document.querySelector("header");
    const mainSection = document.querySelector("#main");

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
         
            header.classList.remove("scrolled");
          } else {
    
            header.classList.add("scrolled");
          }
        });
      },
      {
        threshold: 0.3, 
      }
    );

    if (mainSection) observer.observe(mainSection);
  });
function observeMainIMG() {
  const mainIMG = document.querySelector('.mainIMG_container');
  if (!mainIMG) return;

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {

        mainIMG.classList.remove('animate');
        void mainIMG.offsetWidth; 
        mainIMG.classList.add('animate');
      } else {
      
        mainIMG.classList.remove('animate');
      }
    });
  }, { threshold: 0.3 }); 

  observer.observe(mainIMG);
}


document.addEventListener('DOMContentLoaded', observeMainIMG);


const overviewSectionEl = document.querySelector('.explanation_box');
const overviewNavLink = document.querySelector('a[href="#overview"]');

function handleOverviewAnimation(entry) {
  if (entry.isIntersecting) {
    overviewSectionEl.classList.remove('visible'); 
    void overviewSectionEl.offsetWidth;        
    overviewSectionEl.classList.add('visible');    
  } else {
    overviewSectionEl.classList.remove('visible'); 
  }
}


if (overviewSectionEl) {
  const overviewObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => handleOverviewAnimation(entry));
  }, {
    threshold: 0.3 
  });

  overviewObserver.observe(overviewSectionEl);
}


window.addEventListener('load', () => {
  if (window.location.hash === '#overview') {
    setTimeout(() => {
      overviewSectionEl.classList.remove('visible');
      void overviewSectionEl.offsetWidth;
      overviewSectionEl.classList.add('visible');
    }, 300);
  }
});

if (overviewNavLink) {
  overviewNavLink.addEventListener('click', () => {
    setTimeout(() => {
      overviewSectionEl.classList.remove('visible');
      void overviewSectionEl.offsetWidth;
      overviewSectionEl.classList.add('visible');
    }, 600); 
  });
}

const storySectionEl = document.querySelector('.section_start');
const storyNavLink = document.querySelector('a[href="#story"]');


function handleStorySectionAnimation(entry) {
  if (entry.isIntersecting) {
    storySectionEl.classList.remove('visible'); 
    void storySectionEl.offsetWidth;          
    storySectionEl.classList.add('visible');    
  } else {
    storySectionEl.classList.remove('visible'); 
  }
}


if (storySectionEl) {
  const storyObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => handleStorySectionAnimation(entry));
  }, { threshold: 0.3 });

  storyObserver.observe(storySectionEl);
}


window.addEventListener('load', () => {
  if (window.location.hash === '#story') {
    setTimeout(() => {
      storySectionEl.classList.remove('visible');
      void storySectionEl.offsetWidth;
      storySectionEl.classList.add('visible');
    }, 300);
  }
});


if (storyNavLink) {
  storyNavLink.addEventListener('click', () => {
    setTimeout(() => {
      storySectionEl.classList.remove('visible');
      void storySectionEl.offsetWidth;
      storySectionEl.classList.add('visible');
    }, 600); // 스크롤 이동 완료 예상 시간
  });
}

const rightSectionEl = document.querySelector('.explanation_box_2_right');


function handleRightSectionAnimation(entry) {
  if (entry.isIntersecting) {
    rightSectionEl.classList.remove('hidden');
    rightSectionEl.classList.remove('animate'); 
    void rightSectionEl.offsetWidth;
    rightSectionEl.classList.add('animate'); 
  } else {
  
    rightSectionEl.classList.add('hidden');
    rightSectionEl.classList.remove('animate');
  }
}


if (rightSectionEl) {
  const rightSectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => handleRightSectionAnimation(entry));
  }, { threshold: 0.5 }); 

  rightSectionObserver.observe(rightSectionEl);
}


window.addEventListener('load', () => {
  if (window.location.hash === '#interaction') { 
    setTimeout(() => {
      rightSectionEl.classList.remove('animate');
      void rightSectionEl.offsetWidth;
      rightSectionEl.classList.add('animate');
    }, 300);
  }
});

document.querySelectorAll('a[href="#interaction"]').forEach(link => {
  link.addEventListener('click', () => {
    setTimeout(() => {
      rightSectionEl.classList.remove('animate');
      void rightSectionEl.offsetWidth;
      rightSectionEl.classList.add('animate');
    }, 600);
  });
});

 
function triggerMainIMGAnimation() {
  const mainIMG = document.querySelector('.mainIMG_container');
  mainIMG.classList.remove('animate');
  setTimeout(() => {
    mainIMG.classList.add('animate');
  }, 50);
}


document.addEventListener('DOMContentLoaded', triggerMainIMGAnimation);
document.querySelectorAll('a[href="#home"], a[href="#top"]').forEach(link => {
  link.addEventListener('click', () => {
    setTimeout(triggerMainIMGAnimation, 600);
  });
});

let elementPlusAnimated = false;
let hasAnimated = false; 

function isInViewport(el, threshold = 0.3) {
  const rect = el.getBoundingClientRect();
  const visibleHeight = Math.min(window.innerHeight, rect.bottom) - Math.max(0, rect.top);
  const ratio = visibleHeight / rect.height;
  return ratio >= threshold;
}

function handleSectionAnimations() {
  const section = document.querySelector('.contents_explanation');
  const p = section.querySelector('p');
  const elements = document.querySelector('.elements');
  const elementPlus = document.querySelector('.elementPlus');

 
  if (!hasAnimated && isInViewport(section)) {
    section.classList.add('animate');
    p.classList.add('animate');

    elements.classList.add('animate');
    setTimeout(() => {
      elementPlus.classList.add('animate');
      elementPlusAnimated = true;
    }, 1000);

    hasAnimated = true; 
  }
}


window.addEventListener('scroll', handleSectionAnimations);
document.addEventListener('DOMContentLoaded', handleSectionAnimations);

document.querySelectorAll('a[href^="#"]').forEach(link => {
  link.addEventListener('click', () => {
    setTimeout(handleSectionAnimations, 600);
  });
});


const observer_2 = new IntersectionObserver((entries, observer_2) => {
  entries.forEach(entry => {
    const section = entry.target;
    const icon = section.querySelector('.main_character_icon');
    const h2 = section.querySelector('h2');
    const h3 = section.querySelector('h3');
    const main_character_image = section.querySelector('.main_character_image');
    const circle_blur_ch = section.querySelector('.circle_blur_ch');

    if (entry.isIntersecting) {
   
      icon.classList.add('visible');

      setTimeout(() => {
        h2.classList.add('visible');
      }, 200);

      setTimeout(() => {
        h3.classList.add('visible');
      }, 400);

      setTimeout(() => {
       main_character_image.classList.add('visible');
      }, 600);

      setTimeout(() => {
       circle_blur_ch.classList.add('visible');
      }, 800);

    } else {
    
      icon.classList.remove('visible');
      h2.classList.remove('visible');
      h3.classList.remove('visible');
      main_character_image.classList.remove('visible');
      circle_blur_ch.classList.remove('visible');
    }
  });
}, {
  threshold: 0.3, 
});


const characterSection = document.querySelector('.main_character_explanation');
observer_2.observe(characterSection);


  const sceneTarget = document.querySelector('.scene_explanation');


function triggerSceneAnimation() {
  const icon = document.querySelector('.scene_icon');
  const h2 = document.querySelector('.scene_explanation h2');
  const cards = document.querySelectorAll('.card');


  icon.classList.add('visible');
  setTimeout(() => h2.classList.add('visible'), 300);
  cards.forEach((card, i) => {
    setTimeout(() => {
      card.classList.add('visible');
    }, 600 + i * 300);
  });
}


function resetSceneAnimation() {
  const icon = document.querySelector('.scene_icon');
  const h2 = document.querySelector('.scene_explanation h2');
  const cards = document.querySelectorAll('.card');

  icon.classList.remove('visible');
  h2.classList.remove('visible');
  cards.forEach(c => c.classList.remove('visible'));
}


const sceneObserver = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      triggerSceneAnimation();
    } else {
      resetSceneAnimation(); 
    }
  });
}, { threshold: 0.5 });

if (sceneTarget) sceneObserver.observe(sceneTarget);


  window.addEventListener('load', () => {
    if (window.location.hash === '#visual') {
      setTimeout(() => {
        triggerAnimation(target);
      }, 300); 
    }
  });

  const visualTarget = document.querySelector('.visual_box');

function triggerVisualAnimation() {
  const title = document.querySelector('.visual_box h2');
  const text = document.querySelector('.visual_box p');
  const circle_blur_sec3 = document.querySelector('.circle_blur_sec3');

 
  title.classList.add('visible');
  setTimeout(() => {
    text.classList.add('visible')
   circle_blur_sec3.classList.add('visible');
  }, 400);
}


function resetVisualAnimation() {
  const title = document.querySelector('.visual_box h2');
  const text = document.querySelector('.visual_box p');
  const circle_blur_sec3 = document.querySelector('.circle_blur_sec3');

  title.classList.remove('visible');
  text.classList.remove('visible');
  circle_blur_sec3.classList.remove('visible');
}

const visualObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      triggerVisualAnimation();
    } else {
      resetVisualAnimation(); 
    }
  });
}, { threshold: 0.5 });

if (visualTarget) visualObserver.observe(visualTarget);



  const visualExplanation = document.querySelector('.visual_explanation');
let visualAnimated = false;

const visualOnceObserver = new IntersectionObserver((entries, observer) => {
  entries.forEach(entry => {
    if (entry.isIntersecting && !visualAnimated) {
      visualExplanation.classList.add('animate');
      visualAnimated = true; 
    }
  });
}, {
  threshold: 0, 
});

if (visualExplanation) visualOnceObserver.observe(visualExplanation);

  window.addEventListener('load', () => {
    if (window.location.hash === '#technology') {
      setTimeout(() => {
        triggerAnimation(target);
      }, 300);
    }
  });


  window.addEventListener('load', () => {
    if (window.location.hash === '#video') {
      setTimeout(() => {
        triggerAnimation(target);
      }, 300); 
    }
  });

const sectionRanges = [
  { id: 'main', start: 0, end: 917 },
  { id: 'overview', start: 917, end: 2145 },
  { id: 'story', start: 2155, end: 8200 },
  { id: 'visual', start: 8500, end: 12850 },
  { id: 'technology', start: 13500, end: 16100 },
  { id: 'video', start: 16200, end: 17280 }
];const navDots = document.querySelectorAll('.nav-dot');

function updateActiveNavDot() {
  const scrollPos = window.scrollY + window.innerHeight / 2;

 
  const currentSection = sectionRanges.find(range =>
    scrollPos >= range.start && scrollPos < range.end
  );

 
  navDots.forEach(dot => {
    dot.classList.toggle('active', dot.dataset.target === currentSection?.id);
  });
}


const navMenuLinks = document.querySelectorAll('header a[data-target]');

navMenuLinks.forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault(); 

    const targetId = link.dataset.target;

    const targetRange = sectionRanges.find(section => section.id === targetId);

    if (targetRange) {
      window.scrollTo({
        top: targetRange.start,
        behavior: 'smooth'
      });
    }
  });
});


window.addEventListener('load', updateActiveNavDot);
window.addEventListener('scroll', updateActiveNavDot);  
navDots.forEach(dot => {
  dot.addEventListener('click', () => {
    const targetId = dot.dataset.target;
    const targetRange = sectionRanges.find(section => section.id === targetId);

    if (targetRange) {
      window.scrollTo({
        top: targetRange.start,
        behavior: 'smooth'
      });
    }
  });
});

const conceptTarget = document.querySelector('.visual_ConceptBoard');

function triggerConceptAnimation() {
  const icon = conceptTarget.querySelector('.visual_ConceptBoard_icon');
  const text = conceptTarget.querySelector('h3');
  const box = conceptTarget.querySelector('.gray-box-ConceptBoard');

  [icon, text, box].forEach(el => {
    el.classList.remove('visible');
    void el.offsetWidth;
  });

  icon.classList.add('visible');
  setTimeout(() => {
    text.classList.add('visible');
  }, 300);
  setTimeout(() => {
    box.classList.add('visible');
  }, 700);
}

const conceptObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const icon = conceptTarget.querySelector('.visual_ConceptBoard_icon');
    const text = conceptTarget.querySelector('h3');
    const box = conceptTarget.querySelector('.gray-box-ConceptBoard');

    if (entry.isIntersecting && entry.intersectionRatio >= 0.3) {
      triggerConceptAnimation();
    } else {
      [icon, text, box].forEach(el => el.classList.remove('visible'));
    }
  });
}, {
  threshold: 0.3,
});

if (conceptTarget) conceptObserver.observe(conceptTarget);

const visualExplanationTarget = document.querySelector('.visual_explanation');

const visualExplanationObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      visualExplanationTarget.classList.add('visible');
    } else {
      visualExplanationTarget.classList.remove('visible'); 
    }
  });
}, {
  threshold: 0.3
});

if (visualExplanationTarget) visualExplanationObserver.observe(visualExplanationTarget);

  const virusSection = document.querySelector('.visual_explanation_virus');

const virusObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      virusSection.classList.add('visible');
    } else {
      virusSection.classList.remove('visible'); 
    }
  });
}, {
  threshold: 0.3
});

if (virusSection) virusObserver.observe(virusSection);


const riverSection = document.querySelector('.visual_explanation_river');

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting && entry.intersectionRatio >= 0.3) {
      riverSection.classList.add('active');
    } else {
      riverSection.classList.remove('active');
    }
  });
}, {
  threshold: [0, 0.3, 1]
});

observer.observe(riverSection);


const dystopiaSection = document.querySelector('.visual_explanation_dystopia');

const observerDystopia = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting && entry.intersectionRatio >= 0.3) {
      dystopiaSection.classList.add('active');
    } else {
      dystopiaSection.classList.remove('active');
    }
  });
}, {
  threshold: [0, 0.3, 1]
});

observerDystopia.observe(dystopiaSection);

const techTarget = document.querySelector('.technology_box');

function triggerTechnologyAnimation() {
  const title = techTarget.querySelector('h2');
  const description = techTarget.querySelector('p');
  const boxes = techTarget.querySelectorAll('.gray-box-technology');

  [title, description, ...boxes].forEach(el => {
    el.classList.remove('visible');
    void el.offsetWidth;
  });

  title.classList.add('visible');

  setTimeout(() => {
    description.classList.add('visible');
  }, 300);

  boxes.forEach((box, i) => {
    setTimeout(() => {
      box.classList.add('visible');
    }, 700 + i * 300);
  });
}

const techObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      triggerTechnologyAnimation();
    } else {
      const title = techTarget.querySelector('h2');
      const description = techTarget.querySelector('p');
      const boxes = techTarget.querySelectorAll('.gray-box-technology');

      title.classList.remove('visible');
      description.classList.remove('visible');
      boxes.forEach(box => box.classList.remove('visible'));
    }
  });
}, {
  threshold: 0.4
});

if (techTarget) techObserver.observe(techTarget);


  const interactionSection = document.querySelector('.interaction_explanation');

function triggerInteractionAnimation() {
  const icon = interactionSection.querySelector('.interaction_explanation_icon');
  const h4 = interactionSection.querySelector('h4');
  const h2 = interactionSection.querySelector('h2');
  const box = interactionSection.querySelector('.gray-box-interaction');
  const text = interactionSection.querySelector('.interaction-text');


  [icon, h4, h2, box, text].forEach(el => {
    el.classList.remove('visible');
    void el.offsetWidth; 
  });

  icon.classList.add('visible');
  setTimeout(() => h4.classList.add('visible'), 300);
  setTimeout(() => h2.classList.add('visible'), 600);
  setTimeout(() => box.classList.add('visible'), 900);
  setTimeout(() => text.classList.add('visible'), 1200);
}

const interactionObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const icon = interactionSection.querySelector('.interaction_explanation_icon');
    const h4 = interactionSection.querySelector('h4');
    const h2 = interactionSection.querySelector('h2');
    const box = interactionSection.querySelector('.gray-box-interaction');
    const text = interactionSection.querySelector('.interaction-text');

    if (entry.isIntersecting) {
      triggerInteractionAnimation();
    } else {
      [icon, h4, h2, box, text].forEach(el => {
        el.classList.remove('visible');
      });
    }
  });
}, {
  threshold: 0.4
});

if (interactionSection) interactionObserver.observe(interactionSection);


  const interactionSection2 = document.querySelector('.interaction_explanation_2');

function triggerInteraction2Animation() {
  const h4 = interactionSection2.querySelector('h4');
  const h2 = interactionSection2.querySelector('h2');
  const box = interactionSection2.querySelector('.gray-box-interaction_2');
  const text = interactionSection2.querySelector('.interaction_2-text');

  [h4, h2, box, text].forEach(el => {
    el.classList.remove('visible');
    void el.offsetWidth;
  });
  h4.classList.add('visible');
  setTimeout(() => h2.classList.add('visible'), 300);
  setTimeout(() => box.classList.add('visible'), 600);
  setTimeout(() => text.classList.add('visible'), 900);
}

const interactionObserver2 = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    const h4 = interactionSection2.querySelector('h4');
    const h2 = interactionSection2.querySelector('h2');
    const box = interactionSection2.querySelector('.gray-box-interaction_2');
    const text = interactionSection2.querySelector('.interaction_2-text');

    if (entry.isIntersecting) {
      triggerInteraction2Animation();
    } else {
      [h4, h2, box, text].forEach(el => {
        el.classList.remove('visible');
      });
    }
  });
}, {
  threshold: 0.4
});

if (interactionSection2) interactionObserver2.observe(interactionSection2);

</script>



</body>
</html>
